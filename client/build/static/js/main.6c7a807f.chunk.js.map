{"version":3,"sources":["reducers/index.js","reducers/books_reducer.js","reducers/user_reducer.js","actions/index.js","widgetsUI/book_item.js","containers/home_container.js","components/Home/home.js","components/Books/index.js","containers/Admin/login.js","components/Admin/index.js","containers/Admin/add.js","components/Admin/userPosts.js","containers/Admin/edit.js","containers/Admin/register.js","components/Admin/logout.js","components/Header/Sidenav/sidenav_items.js","components/Header/Sidenav/sidenav.js","components/Header/header.js","hoc/layout.js","hoc/auth.js","routes.js","index.js"],"names":["rootReducer","combineReducers","books","state","action","type","list","payload","book","reviewer","newbook","updateBook","success","doc","postDeleted","user","login","userPosts","users","register","getBooks","limit","start","order","request","axios","get","then","response","data","addBook","post","deleteBook","id","delete","loginUser","email","password","userRegister","userList","dispatch","BookItem","item","to","_id","className","name","author","price","pages","rating","HomeContainer","renderItems","map","i","key","loadmore","count","props","length","this","onClick","Component","connect","Home","BookView","renderBook","lastname","review","ownerId","getBookWithReviewer","match","params","Login","error","handleInputEmail","event","setState","target","value","handleInputPassword","submitForm","e","preventDefault","hasOwnProperty","isAuth","history","push","onSubmit","placeholder","onChange","message","console","log","User","alt","src","AddBook","formdata","handleInput","newFormdata","showNewBook","bookID","val","UserPosts","showUserPosts","moment","createAt","format","userId","EditBook","deletePost","redirectUser","setTimeout","nextProps","PureComponent","Register","handleInputName","handleInputLastname","showUsers","Logout","items","icon","text","link","restricted","exclude","element","Nav","showNav","onHideNav","navStyle","background","maxWidth","Header","style","color","padding","cursor","Layout","children","ComposedClass","reload","AuthenticationCheck","loading","Routes","path","exact","component","Auth","AddReview","EditReview","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","StrictMode","store","reducers","document","getElementById"],"mappings":"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","file":"static/js/main.6c7a807f.chunk.js","sourcesContent":["import { combineReducers } from 'redux';\r\nimport books from './books_reducer';\r\nimport user from './user_reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    books,\r\n    user\r\n});\r\n\r\nexport default rootReducer;\r\n\r\n","export default function(state={}, action){\r\n    switch(action.type){\r\n        case \"GET_BOOKS\":\r\n            return {\r\n                ...state,\r\n                list:action.payload\r\n            };\r\n        case \"GET_BOOK\":\r\n            return {...state, book:action.payload}\r\n        case \"GET_BOOK_W_REVIEWER\":\r\n            return {\r\n                ...state, \r\n                book: action.payload.book,\r\n                reviewer: action.payload.reviewer\r\n            }\r\n        case \"CLEAR_BOOK_W_REVIEWER\":\r\n            return {\r\n                ...state, \r\n                book: action.payload.book,\r\n                reviewer: action.payload.reviewer\r\n            }\r\n        case \"ADD_BOOK\":\r\n        case \"CLEAR_NEWBOOK\":\r\n            return {\r\n                ...state,\r\n                newbook:action.payload\r\n            }\r\n        case \"UPDATE_BOOK\":\r\n            return {\r\n                ...state,\r\n                updateBook:action.payload.success,\r\n                newbook:action.payload.doc\r\n            }\r\n\r\n        case \"DELETE_BOOK\":\r\n            return {\r\n                ...state,\r\n                postDeleted:action.payload\r\n            }\r\n        case \"CLEAR_BOOK\":\r\n            return {\r\n                ...state,\r\n                updateBook:action.payload.updateBook,\r\n                book:action.payload.book,\r\n                postDeleted:action.payload.postDeleted\r\n            }\r\n        \r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};","export default function(state={}, action){\r\n    switch(action.type){\r\n        case \"USER_LOGIN\":\r\n            return {...state, login:action.payload};\r\n        case \"USER_AUTH\":\r\n            return {...state, login:action.payload}\r\n        case \"GET_USER_POSTS\":\r\n            return {...state, userPosts:action.payload};\r\n        case \"GET_USERS\":\r\n            return {...state, users:action.payload};\r\n        case \"USER_REGISTER\":\r\n            return {\r\n                ...state,\r\n                register:action.payload.success,\r\n                users:action.payload.users \r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\n","import axios from 'axios';\r\n\r\nexport function getBooks(\r\n    limit = 10, \r\n    start = 0, \r\n    order = \"asc\",\r\n    list=''\r\n    \r\n){ \r\n\r\n    const request = axios.get(`/api/books?limit=${limit}&skip=${start}&order=${order}`)\r\n        .then(response => {\r\n            if(list){\r\n                return [...list, ...response.data];\r\n            }else{\r\n                return response.data;\r\n            }\r\n        });\r\n        \r\n\r\n    return {\r\n        type:\"GET_BOOKS\",\r\n        payload:request,\r\n        \r\n    };\r\n};\r\n\r\nexport function getBookWithReviewer(id){\r\n    const request = axios.get(`/api/getBook?id=${id}`);\r\n\r\n    return (dispatch)=>{\r\n        request.then(({data})=>{\r\n            let book = data;\r\n            axios.get(`/api/getReviewer?id=${book.ownerId}`)\r\n            .then(({data})=>{\r\n                let response = {\r\n                    book,\r\n                    reviewer:data\r\n                }\r\n\r\n                dispatch({\r\n                    type:\"GET_BOOK_W_REVIEWER\",\r\n                    payload:response,\r\n                    \r\n                });\r\n            });\r\n        });\r\n    };\r\n}; \r\n\r\nexport function clearBookWithReviewer(){\r\n    return {\r\n        type:\"CLEAR_BOOK_W_REVIEWER\",\r\n        payload:{\r\n            book:{},\r\n            reviewer:{}\r\n        }\r\n    };\r\n};\r\n\r\nexport function addBook(book){\r\n    const request = axios.post('/api/book', book)\r\n        .then(response => response.data);\r\n\r\n    return {\r\n        type:\"ADD_BOOK\",\r\n        payload:request\r\n    }\r\n}\r\n\r\nexport function clearNewBook(){\r\n    return {\r\n        type:\"CLEAR_NEWBOOK\",\r\n        payload:{}\r\n    }\r\n}\r\n\r\nexport function getUserPosts(userId){\r\n    const request = axios.get(`/api/user_posts?user=${userId}`)\r\n        .then(response => response.data);\r\n        \r\n    \r\n    return {\r\n        type:\"GET_USER_POSTS\",\r\n        payload:request\r\n    }\r\n}\r\n\r\nexport function getBook(id){\r\n    const request = axios.get(`/api/getBook?id=${id}`)\r\n        .then(response => response.data);\r\n\r\n        return {\r\n            type:\"GET_BOOK\",\r\n            payload:request\r\n        }\r\n}\r\n\r\nexport function updateBook(data){\r\n    const request = axios.post(`/api/book_update`, data)\r\n        .then(response => response.data);\r\n\r\n        return {\r\n            type:\"UPDATE_BOOK\",\r\n            payload:request\r\n        }\r\n}\r\n\r\nexport function deleteBook(id){\r\n    const request = axios.delete(`/api/delete_book?id=${id}`)\r\n    .then(response => response.data);\r\n\r\n    return {\r\n        type:\"DELETE_BOOK\",\r\n        payload:request\r\n    }\r\n}\r\n\r\nexport function clearBook(){\r\n    return {\r\n        type:\"CLEAR_BOOK\",\r\n        payload:{\r\n            book:null,\r\n            updateBook:false,\r\n            postDeleted:false\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n//  USER //\r\nexport function loginUser({email, password}){\r\n    const request = axios.post(`/api/login`, {email, password})\r\n        .then(response=> response.data);\r\n        \r\n    return {\r\n        type:\"USER_LOGIN\",\r\n        payload:request\r\n    };\r\n};\r\n\r\nexport function auth(){\r\n    const request = axios.get('/api/auth')\r\n        .then(response => response.data);\r\n\r\n        return {\r\n            type:\"USER_AUTH\",\r\n            payload:request\r\n        };\r\n}\r\n\r\nexport function getUsers(){\r\n    let request = axios.get(`/api/users`)\r\n        .then(response => response.data);\r\n    \r\n    return {\r\n        type:\"GET_USERS\",\r\n        payload:request\r\n    }\r\n}\r\n\r\nexport function userRegister(user, userList){\r\n    const request = axios.post(`/api/register`, user)\r\n\r\n    return (dispatch) => {\r\n        request.then(({data})=>{\r\n            let users = data.success? [...userList, data.user] : userList\r\n            let response = {\r\n                success:data.success,\r\n                users\r\n            }\r\n\r\n            dispatch({\r\n                type:\"USER_REGISTER\",\r\n                payload:response\r\n            })\r\n        })\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst BookItem = (item) => {\r\n    return (\r\n        <div>\r\n            <Link to={`/books/${item._id}`} className=\"book_item\">\r\n                <div className=\"book_header\">\r\n                    <h2>{item.name}</h2>\r\n\r\n                </div>\r\n                <div className=\"book_items\">\r\n                    <div className=\"book_author\">{item.author}</div>\r\n                    <div className=\"book_bubble\">\r\n                        <strong>Price</strong> $ {item.price}\r\n                    </div>\r\n                    <div className=\"book_bubble\">\r\n                        <strong>Pages</strong> {item.pages}\r\n                    </div>\r\n                    <div className=\"book_bubble rating\">\r\n                        <strong>Rating</strong> {item.rating}\r\n                    </div>\r\n                </div>\r\n            </Link> \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BookItem;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getBooks } from '../actions';\r\nimport BookItem from '../widgetsUI/book_item';\r\n\r\nclass HomeContainer extends Component {\r\n\r\n\r\n    componentDidMount(){\r\n        this.props.dispatch(getBooks(1,0,'desc'));\r\n    }\r\n\r\n    renderItems = (books) => (\r\n        books.list?\r\n            books.list.map( (item, i )=> (\r\n                <BookItem {...item} key={item._id} />\r\n            ))        \r\n            :null\r\n    )\r\n\r\n    loadmore = () => {\r\n        let count = this.props.books.list.length;\r\n\r\n        this.props.dispatch(getBooks(1,count,'desc', this.props.books.list));\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <div>\r\n                {this.renderItems(this.props.books)}\r\n                <div \r\n                    className=\"loadmore\"\r\n                    onClick={this.loadmore}    \r\n                >\r\n                    Load More\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        books: state.books\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(HomeContainer);","import React from 'react';\r\nimport HomeContainer from '../../containers/home_container';\r\n\r\n\r\nconst Home = () => {\r\n    return (\r\n        <div>\r\n            <HomeContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport { getBookWithReviewer, clearBookWithReviewer } from '../../actions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass BookView extends Component {\r\n\r\n    componentDidMount(){\r\n        this.props.dispatch(getBookWithReviewer(this.props.match.params.id));\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.props.dispatch(clearBookWithReviewer());\r\n    }\r\n\r\n    renderBook = (books)=>(\r\n        books.book?\r\n            <div className=\"br_container\">\r\n                <div className=\"br_header\">\r\n                    <h2>{books.book.name}</h2>\r\n                    <h5>{books.book.author}</h5>\r\n                    <div>\r\n                        <span>Review by: {books.reviewer.name} {books.reviewer.lastname}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"br_review\">\r\n                    {books.book.review}\r\n                </div>\r\n                \r\n                <div className=\"br_box\">\r\n                    <div className=\"left\">\r\n                        <div>\r\n                            <span>Pages: </span> {books.book.pages}\r\n                        </div>\r\n                        <div>\r\n                            <span>Price: </span> {books.book.price}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"right\">\r\n                        <span>Rating</span>\r\n                        <div>{books.book.rating}/5</div>\r\n                    </div>\r\n                </div>\r\n            </div>    \r\n        :null\r\n    )\r\n\r\n    render() {\r\n        let books = this.props.books\r\n        return (\r\n            <div>\r\n                {this.renderBook(books)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        books: state.books\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BookView);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { loginUser } from '../../actions';\r\n\r\nclass Login extends Component {\r\n\r\n    state = {\r\n        email:'',\r\n        password:'',\r\n        error:'',\r\n        success:false\r\n    }\r\n\r\n    handleInputEmail = (event)=>{\r\n        this.setState({\r\n            email: event.target.value\r\n        })\r\n    }\r\n\r\n    handleInputPassword = (event)=>{\r\n        this.setState({\r\n            password: event.target.value\r\n        })\r\n    }\r\n\r\n    //componentWillReceiveProps(nextProps){\r\n    shouldComponentUpdate(props){\r\n        if(props.user.hasOwnProperty('login') && props.user.login.isAuth){\r\n            this.props.history.push(\"/user\")\r\n            return false;\r\n        }else{\r\n            return true;\r\n        }\r\n    }\r\n\r\n    submitForm = (e)=>{\r\n        e.preventDefault();\r\n        this.props.dispatch(loginUser(this.state));\r\n    }\r\n\r\n\r\n    render() {\r\n        let user = this.props.user;\r\n\r\n        return (\r\n            <div className=\"rl_container\">\r\n                <form onSubmit={this.submitForm}>\r\n                    <h2>Log in here</h2>\r\n                    <div className=\"form_element\">\r\n                        <input\r\n                            type=\"email\"\r\n                            placeholder=\"enter your email\"\r\n                            value={this.state.email}\r\n                            onChange={this.handleInputEmail}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <input\r\n                            type=\"password\"\r\n                            placeholder=\"enter your password\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleInputPassword}\r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\">Log in</button>\r\n                    <div className=\"error\">\r\n                        { user.login ? <div>{user.login.message}</div> :null }\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(state);////\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Login);","import React from 'react';\r\n\r\nconst User = (props) => {\r\n    let user = props.user.login;\r\n    return (\r\n        <div className=\"user_container\">\r\n            <div className=\"avatar\">\r\n                <img alt=\"avatar\" src=\"/images/avatar.png\"/>\r\n            </div>\r\n            <div className=\"nfo\">\r\n                <div><span>Name:</span> {user.name}</div>\r\n                <div><span>Lastname:</span> {user.lastname}</div>\r\n                <div><span>Email:</span> {user.email}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { addBook, clearNewBook }from '../../actions';\r\n\r\nclass AddBook extends Component {\r\n    state = {\r\n        formdata:{\r\n            name:\"\",\r\n            author:\"\",\r\n            review:\"\",\r\n            pages:\"\",\r\n            rating:\"\",\r\n            price:\"\"\r\n        }\r\n    }\r\n\r\n    handleInput = (e, name) => {\r\n        const newFormdata = {...this.state.formdata};\r\n        newFormdata[name] = e.target.value;\r\n        this.setState({\r\n            formdata:newFormdata\r\n        })\r\n    }\r\n\r\n    showNewBook = (book) => (\r\n        book.post ?\r\n            <div className=\"conf_link\">\r\n                Cool.. \r\n                <Link to={`/books/${book.bookID}`} > \r\n                    Click the link to see the post\r\n                </Link>\r\n            </div>\r\n        :null\r\n    )\r\n\r\n    submitForm = (e) => {\r\n        e.preventDefault();\r\n        this.props.dispatch(addBook({\r\n            ...this.state.formdata,\r\n            ownerId:this.props.user.login.id\r\n        }));\r\n\r\n\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.props.dispatch(clearNewBook());\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"rl_container article\">\r\n                <form onSubmit={this.submitForm}>\r\n\r\n                    <h2>Add a review</h2>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"text\" \r\n                            placeholder=\"Enter name\" \r\n                            value={this.state.formdata.name}\r\n                            onChange={(event)=>this.handleInput(event, \"name\")}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"text\" \r\n                            placeholder=\"Enter author\" \r\n                            value={this.state.formdata.author}\r\n                            onChange={(event)=>this.handleInput(event, \"author\")}\r\n                        />\r\n                    </div>\r\n\r\n                    <textarea \r\n                        value={this.state.formdata.review}\r\n                        onChange={(event)=>this.handleInput(event, \"review\")}\r\n                    />\r\n\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"number\" \r\n                            placeholder=\"Enter pages\" \r\n                            value={this.state.formdata.pages}\r\n                            onChange={(event)=>this.handleInput(event, \"pages\")}\r\n                        />\r\n                    </div>\r\n                    \r\n                    <div className=\"form_element\">\r\n                        <select\r\n                            value={this.state.formdata.rating}\r\n                            onChange={(event)=>this.handleInput(event, \"rating\")}\r\n                        >\r\n                            <option val=\"1\">1</option>\r\n                            <option val=\"2\">2</option>\r\n                            <option val=\"3\">3</option>\r\n                            <option val=\"4\">4</option>\r\n                            <option val=\"5\">5</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"number\" \r\n                            placeholder=\"Enter price\" \r\n                            value={this.state.formdata.price}\r\n                            onChange={(event)=>this.handleInput(event, \"price\")}\r\n                        />\r\n                    </div>\r\n\r\n                    <button type=\"submit\">Add Review</button>\r\n                    {\r\n                        this.props.books.newbook?\r\n                            this.showNewBook(this.props.books.newbook)\r\n                            :null\r\n                    }\r\n\r\n                </form>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(state) ////\r\n    return {\r\n        books: state.books\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(AddBook);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getUserPosts } from '../../actions';\r\nimport moment from 'moment-js';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass UserPosts extends Component {\r\n\r\n//    componentWillMount(){\r\n    componentDidMount(){\r\n        this.props.dispatch(getUserPosts(this.props.user.login.id));\r\n    }\r\n\r\n    showUserPosts = (user) => (\r\n        user.userPosts ?\r\n            user.userPosts.map((item, i)=>(\r\n                <tr key={item._id}>\r\n                    <td><Link to={`/user/edit-post/${item._id}`}>{item.name}</Link></td>\r\n                    <td>{item.author}</td>\r\n                    <td>\r\n                        {moment(item.createAt).format(\"MM/DD/YY\")}\r\n                    </td>\r\n                </tr>\r\n            ))\r\n        :null\r\n    )\r\n\r\n\r\n    render() {\r\n        let user = this.props.user;\r\n\r\n        return (\r\n            <div className=\"user_posts\">\r\n                <h4>Your reviews:</h4>\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Author</th>\r\n                            <th>Date</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.showUserPosts(user)}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(UserPosts);","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { getBook, updateBook, clearBook, deleteBook }from '../../actions';\r\n\r\nclass EditBook extends PureComponent {\r\n    state = {\r\n        formdata:{\r\n            _id:this.props.match.params.id,\r\n            name:\"\",\r\n            author:\"\",\r\n            review:\"\",\r\n            pages:\"\",\r\n            rating:\"\",\r\n            price:\"\"\r\n        }\r\n    }\r\n\r\n    handleInput = (e, name) => {\r\n        const newFormdata = {...this.state.formdata};\r\n        newFormdata[name] = e.target.value;\r\n        this.setState({\r\n            formdata:newFormdata\r\n        })\r\n    }\r\n    \r\n    submitForm = (e) => {\r\n        e.preventDefault();\r\n        this.props.dispatch(updateBook(this.state.formdata));\r\n    }\r\n\r\n    deletePost = () => {\r\n        this.props.dispatch( deleteBook(this.props.match.params.id) );\r\n    }\r\n\r\n    redirectUser = () => {\r\n        setTimeout( ()=>{\r\n            this.props.history.push('/user/user-reviews');\r\n        }, 2000);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.dispatch(getBook(this.props.match.params.id));\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        let book = nextProps.books.book;\r\n        this.setState({\r\n            formdata:{\r\n                _id:book._id,\r\n                name:book.name,\r\n                author:book.author,\r\n                review:book.review,\r\n                pages:book.pages,\r\n                rating:book.rating,\r\n                price:book.price\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.props.dispatch(clearBook());\r\n    }\r\n\r\n    render() {\r\n        let books = this.props.books;\r\n        return (\r\n            <div className=\"rl_container article\">\r\n                {\r\n                    books.updateBook ?\r\n                    <div className=\"edit_confirm\"> \r\n                        Post updated, <Link to={`/books/${books.book._id}`}>Click here for to see your post</Link> \r\n                    </div>\r\n                    :null\r\n                }\r\n                {\r\n                    books.postDeleted ?\r\n                    <div className=\"red_tag\"> \r\n                        Post deleted \r\n                        {this.redirectUser()}\r\n                    </div>\r\n                    :null\r\n                }\r\n                <form onSubmit={this.submitForm}>\r\n\r\n                    <h2>Edit review</h2>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"text\" \r\n                            placeholder=\"Enter name\" \r\n                            value={this.state.formdata.name}\r\n                            onChange={(event)=>this.handleInput(event, \"name\")}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"text\" \r\n                            placeholder=\"Enter author\" \r\n                            value={this.state.formdata.author}\r\n                            onChange={(event)=>this.handleInput(event, \"author\")}\r\n                        />\r\n                    </div>\r\n\r\n                    <textarea \r\n                        value={this.state.formdata.review}\r\n                        onChange={(event)=>this.handleInput(event, \"review\")}\r\n                    />\r\n\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"number\" \r\n                            placeholder=\"Enter pages\" \r\n                            value={this.state.formdata.pages}\r\n                            onChange={(event)=>this.handleInput(event, \"pages\")}\r\n                        />\r\n                    </div>\r\n                    \r\n                    <div className=\"form_element\">\r\n                        <select\r\n                            value={this.state.formdata.rating}\r\n                            onChange={(event)=>this.handleInput(event, \"rating\")}\r\n                        >\r\n                            <option val=\"1\">1</option>\r\n                            <option val=\"2\">2</option>\r\n                            <option val=\"3\">3</option>\r\n                            <option val=\"4\">4</option>\r\n                            <option val=\"5\">5</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"number\" \r\n                            placeholder=\"Enter price\" \r\n                            value={this.state.formdata.price}\r\n                            onChange={(event)=>this.handleInput(event, \"price\")}\r\n                        />\r\n                    </div>\r\n\r\n                    <button type=\"submit\">Edit Review</button>\r\n                    <div className=\"delete_post\">\r\n                        <div className=\"button\"\r\n                            onClick={this.deletePost}\r\n                        >\r\n                            Delete Review\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </form>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        books: state.books\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(EditBook);","import React, { PureComponent } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { getUsers, userRegister } from '../../actions';\r\n\r\nclass Register extends PureComponent {\r\n    state ={\r\n        name:\"\",\r\n        lastname:\"\",\r\n        email:\"\",\r\n        password:\"\",\r\n        error:\"\"\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.props.dispatch(getUsers());\r\n    }\r\n\r\n    handleInputEmail = (event) => {\r\n        this.setState({ email:event.target.value });\r\n    }\r\n\r\n    handleInputPassword = (event) => {\r\n        this.setState({ password:event.target.value });\r\n    }\r\n\r\n    handleInputName = (event) => {\r\n        this.setState({ name:event.target.value });\r\n    }\r\n    \r\n    handleInputLastname = (event) => {\r\n        this.setState({ lastname:event.target.value });\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        if(nextProps.user.register === false){\r\n            this.setState({\r\n                error:\"Error, try again\"\r\n            })\r\n        }else {\r\n            this.setState({\r\n                name:\"\",\r\n                lastname:\"\",\r\n                email:\"\",\r\n                password:\"\",\r\n                error:\"\"\r\n            })\r\n        }\r\n    }\r\n\r\n    submitForm = (event) => {\r\n        event.preventDefault();\r\n        this.setState({error:\"\"});\r\n\r\n        this.props.dispatch(userRegister({\r\n            email:this.state.email,\r\n            password:this.state.password,\r\n            name:this.state.name,\r\n            lastname:this.state.lastname\r\n        }, this.props.user.users)\r\n    )}\r\n\r\n    showUsers = (user) => (\r\n        user.users?\r\n            user.users.map(item =>(\r\n                <tr key={item._id}>\r\n                    <td>{item.name}</td>\r\n                    <td>{item.lastname}</td>\r\n                    <td>{item.email}</td>\r\n                </tr>\r\n            ))\r\n        : null\r\n    )\r\n\r\n    render() {\r\n        let user = this.props.user;\r\n        return (\r\n            <div className=\"rl_container\">\r\n                <form onSubmit={this.submitForm}>\r\n                    <h2>Add User admin</h2>\r\n\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"text\" \r\n                            placeholder=\"Enter name\"\r\n                            value={this.state.name}\r\n                            onChange={this.handleInputName}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"text\" \r\n                            placeholder=\"Enter lastname\"\r\n                            value={this.state.lastname}\r\n                            onChange={this.handleInputLastname}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"email\" \r\n                            placeholder=\"Enter email\"\r\n                            value={this.state.email}\r\n                            onChange={this.handleInputEmail}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <input \r\n                            type=\"password\" \r\n                            placeholder=\"Enter password\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleInputPassword}\r\n                        />\r\n                    </div>\r\n\r\n                    <button type=\"submit\"> Add user</button>\r\n                    <div className=\"error\">\r\n                        {this.state.error}\r\n                    </div>\r\n                    \r\n\r\n                </form>\r\n\r\n                <div className=\"current_users\">\r\n                    <h4>Current users:</h4>\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Name</th>\r\n                                <th>Lastname</th>\r\n                                <th>Email</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.showUsers(user)}\r\n                        </tbody>\r\n                    </table>\r\n\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(Register);","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Logout = (props) => {\r\n    \r\n    let request = axios.get('/api/logout')\r\n                    .then(request => {\r\n                        setTimeout(()=>{\r\n                            props.history.push(\"/\")\r\n                        }, 2000) \r\n                    })\r\n\r\n    return (\r\n        <div className=\"logout_container\">\r\n            <h1>sorry to see you go  :( </h1>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Logout;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nconst SidenavItems = ({user}) => {\r\n\r\n    const items = [\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"home\",\r\n            text:\"Home\",\r\n            link:\"/\",\r\n            restricted:false\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"file-text-o\",\r\n            text:\"My Profile\",\r\n            link:\"/user\",\r\n            restricted:true\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"file-text-o\",\r\n            text:\"Add Admins\",\r\n            link:\"/user/register\",\r\n            restricted:true\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"sign-in\",\r\n            text:\"Login\",\r\n            link:\"/login\",\r\n            restricted:false,\r\n            exclude:true\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"file-text-o\",\r\n            text:\"My reviews\",\r\n            link:\"/user/user-reviews\",\r\n            restricted:true\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"file-text-o\",\r\n            text:\"Add reviews\",\r\n            link:\"/user/add\",\r\n            restricted:true\r\n        },\r\n        {\r\n            type:\"navItem\",\r\n            icon:\"sign-out\",\r\n            text:\"Logout\",\r\n            link:\"/user/logout\",\r\n            restricted:true\r\n        }\r\n    ]\r\n\r\n    const element = (item, i) => (\r\n        <div key={i} className={item.type}>\r\n            <Link to={item.link}>\r\n                <FontAwesome name={item.icon}/>\r\n                {item.text}\r\n            </Link>\r\n        </div>\r\n    )\r\n\r\n    const showItems = ()=>(\r\n        user.login ?\r\n            items.map((item, i)=>{\r\n                if (user.login.isAuth) {\r\n                    return !item.exclude ? \r\n                        element(item, i)\r\n                        :null\r\n                } else {\r\n                    return !item.restricted ? \r\n                        element(item, i)\r\n                        :null\r\n                }\r\n                // return element(item, i);\r\n            })\r\n            :null\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            {showItems()}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SidenavItems);","import React from 'react';\r\nimport SideNav from 'react-simple-sidenav';\r\nimport SidenavItems from './sidenav_items';\r\n\r\nconst Nav = (props) => {\r\n    return (\r\n        <SideNav\r\n            showNav={props.showNav}\r\n            onHideNav={props.onHideNav}\r\n            navStyle={{\r\n                background:\"#242424\",\r\n                maxWidth:\"220px\"\r\n            }}\r\n        >\r\n            <SidenavItems/>\r\n        </SideNav>\r\n    );\r\n};\r\n\r\nexport default Nav;","import React, { Component } from 'react';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { Link } from 'react-router-dom';\r\nimport Nav from './Sidenav/sidenav';\r\n\r\n\r\nclass Header extends Component {\r\n    state = {\r\n        showNav: false\r\n    }\r\n\r\n    onHideNav = ()=>{\r\n        this.setState({\r\n            showNav: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header>\r\n                <div className=\"open_nav\">\r\n                    <FontAwesome name=\"bars\" \r\n                        onClick={()=>this.setState({showNav:true})}\r\n                        style={{\r\n                            color:\"#fff\",\r\n                            padding:\"10px\",\r\n                            cursor:\"pointer\"\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <Nav \r\n                    showNav={this.state.showNav}\r\n                    onHideNav={()=>this.onHideNav()}\r\n                />\r\n\r\n                <Link to=\"/\" className=\"logo\">\r\n                    The Book Shelf\r\n                </Link>\r\n                \r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from '../components/Header/header'\r\n\r\nconst Layout = (props) => {\r\n    return (\r\n        <div>\r\n            <Header/>\r\n            {props.children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Layout;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { auth } from '../actions';\r\n\r\nexport default function(ComposedClass, reload){\r\n\r\n    class AuthenticationCheck extends Component {\r\n        state = {\r\n            loading:true\r\n        }\r\n\r\n        componentWillMount(){\r\n            this.props.dispatch(auth());\r\n        }\r\n\r\n        componentWillReceiveProps(nextProps){\r\n            this.setState({loading:false});\r\n\r\n            if(!nextProps.user.login.isAuth){\r\n                if(reload === true){\r\n                this.props.history.push('/login');\r\n                }\r\n            }else{\r\n                if(reload === false){\r\n                    this.props.history.push('/user');\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        render() {\r\n            if(this.state.loading){\r\n                return <div className=\"loader\">Loading...</div>\r\n            }\r\n            return (\r\n                <ComposedClass {...this.props} user={this.props.user}/>\r\n            );\r\n        }\r\n    }\r\n\r\n    const mapStateToProps = (state) => {\r\n        return {\r\n            user: state.user\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(AuthenticationCheck);\r\n}","import React from 'react';\r\nimport { Switch, Route} from 'react-router-dom';\r\n\r\nimport Home from './components/Home/home';\r\nimport BookView from './components/Books';\r\nimport Login from './containers/Admin/login';\r\nimport User from './components/Admin';\r\nimport AddReview from './containers/Admin/add';\r\nimport UserPosts from './components/Admin/userPosts';\r\nimport EditReview from './containers/Admin/edit';\r\nimport Register from './containers/Admin/register';\r\nimport Logout from './components/Admin/logout';\r\n\r\nimport Layout from './hoc/layout';\r\nimport Auth from './hoc/auth';\r\n\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <Layout>\r\n            <Switch>\r\n                <Route path=\"/\" exact component={Auth(Home, null)} />\r\n                <Route path=\"/login\" exact component={Auth(Login, false)} />\r\n                <Route path=\"/user/logout\" exact component={Auth(Logout, true)} />\r\n                <Route path=\"/user\" exact component={Auth(User, true)} />\r\n                <Route path=\"/user/add\" exact component={Auth(AddReview, true)} />\r\n                <Route path=\"/user/register\" exact component={Auth(Register, true)} />\r\n                <Route path=\"/user/edit-post/:id\" exact component={Auth(EditReview, true)} />\r\n                <Route path=\"/books/:id\" exact component={Auth(BookView, null)} />\r\n                <Route path=\"/user/user-reviews\" exact component={Auth(UserPosts, true)} />\r\n            </Switch>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Routes;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\nimport reducers from './reducers';\nimport Routes from './routes';\n\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={createStoreWithMiddleware(reducers)}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<Routes/>\n\t\t\t</BrowserRouter>\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}